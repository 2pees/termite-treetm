{{extend 'layout.html'}}

<script type="text/javascript">
var onSelectAttribute = function( model_attribute ) {
	if ( model_attribute.value !== "NONE" ) {
		window.location.href = "http://{{=server_identifier}}/{{=dataset_identifier}}/{{=model_type}}/" + model_attribute.value;
	}
}
</script>

<div class="head">
	<div class="title">Termite Web Server</div>
	<div class="sep">http://</div>
	<div class="subtitle"><a href="http://{{=server_identifier}}">{{=server_identifier}}</a></div>
	<div class="sep">/</div>
	<div class="subtitle"><a href="http://{{=server_identifier}}/{{=dataset_identifier}}">{{=dataset_identifier}}</a></div>
	<div class="sep">/</div>
	<div class="subtitle"><a href="http://{{=server_identifier}}/{{=dataset_identifier}}/{{=model_type}}">{{=model_type}}</a></div>
	<div class="sep">/</div>
	<div class="subtitle">
		<select onchange="onSelectAttribute(this)">
			<option value="NONE">&mdash; Available Attributes &mdash;</option>
			{{for n, model_attribute in enumerate(model_attributes):}}
			<option value="{{=model_attribute}}">{{=model_attribute}}</option>
			{{pass}}
		</select>
	</div>
</div>

<div class="body">
	<div class="heading">Server Response
		<span class="extra">(<a href="http://{{=request.env['HTTP_HOST']}}{{=request.env['PATH_INFO']}}?format=json">Display as a JSON object</a>)</span>
	</div>
	<div class="content">{{=content}}</div>
</div>
